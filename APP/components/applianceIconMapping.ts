export const applianceIconMap: Record<string, string> = {
  // ===== Lighting =====
  "light": "lightbulb",
  "lamp": "lamp",
  "bulb": "lightbulb-on",
  "led": "led-strip",
  "chandelier": "chandelier",
  "nightlight": "lightbulb-night",
  "sconce": "wall-sconce",
  "floodlight": "floodlight",
  "spotlight": "spotlight",
  "string lights": "string-lights",
  "candle": "candle",
  "dimmer": "lightbulb-dim",

  // ===== Climate Control =====
  "ac": "air-conditioner",
  "air conditioner": "air-conditioner",
  "fan": "fan",
  "heater": "radiator",
  "thermostat": "thermostat",
  "humidifier": "water-percent",
  "dehumidifier": "air-humidifier-off",
  "vent": "air-filter",
  "air purifier": "air-purifier",
  "ceiling fan": "fan-ceiling",
  "heat pump": "heat-pump",
  "radiator": "radiator",
  "fireplace": "fireplace",

  // ===== Kitchen Appliances =====
  "fridge": "fridge-outline",
  "refrigerator": "fridge-outline",
  "freezer": "fridge-industrial-outline",
  "microwave": "microwave",
  "oven": "stove",
  "toaster": "toaster",
  "blender": "blender",
  "coffee maker": "coffee-maker",
  "kettle": "kettle",
  "dishwasher": "dishwasher",
  "food processor": "food-processor",
  "mixer": "mixer",
  "slow cooker": "slow-cooker",
  "rice cooker": "rice",
  "juicer": "cup-water",
  "grill": "grill",
  "induction": "induction",
  "range hood": "hood",

  // ===== Electronics =====
  "tv": "television",
  "television": "television",
  "computer": "desktop-classic",
  "laptop": "laptop",
  "printer": "printer",
  "speaker": "speaker",
  "soundbar": "soundbar",
  "projector": "projector",
  "game console": "gamepad-variant",
  "receiver": "audio-video",
  "subwoofer": "subwoofer",
  "monitor": "monitor",
  "tablet": "tablet",
  "phone": "cellphone",
  "smartphone": "cellphone",
  "smart display": "monitor-speaker",

  // ===== Security =====
  "camera": "cctv",
  "alarm": "alarm",
  "sensor": "motion-sensor",
  "lock": "lock",
  "doorbell": "doorbell",
  "motion sensor": "motion-sensor",
  "window sensor": "window-closed",
  "smoke detector": "smoke-detector",
  "carbon monoxide": "molecule-co",
  "siren": "alarm-light",
  "security panel": "security",

  // ===== Home Appliances =====
  "washing machine": "washing-machine",
  "dryer": "tumble-dryer",
  "vacuum": "robot-vacuum",
  "iron": "iron",
  "sewing machine": "sewing-machine",
  "water heater": "water-boiler",
  "fountain": "fountain",
  "aquarium": "fishbowl",
  "pool": "pool",
  "sauna": "sauna",
  "jacuzzi": "hot-tub",
  "sprinkler": "sprinkler",
  "water pump": "water-pump",

  // ===== Smart Home Devices =====
  "smart plug": "power-plug",
  "hub": "hubspot",
  "gateway": "gate",
  "bridge": "bridge",
  "smart bulb": "lightbulb-smart",
  "smart switch": "light-switch",
  "smart lock": "lock-smart",
  "smart thermostat": "thermostat-auto",
  "smart blinds": "blinds",
  "smart curtain": "curtains",
  "smart mirror": "mirror",
  "voice assistant": "microphone",

  // ===== Office Equipment =====
  "scanner": "scanner",
  "fax": "fax",
  "shredder": "shredder",
  "whiteboard": "whiteboard",
  "projector screen": "projector-screen",

  // ===== Specialty Devices =====
  "3d printer": "printer-3d",
  "laser cutter": "laser-pointer",
  "cnc machine": "robot-industrial",
  "solar panel": "solar-panel",
  "generator": "engine",
  "inverter": "sine-wave",
  "battery": "battery",
  // ===== Chargers & Power =====
  "charger": "battery-charging",
  "laptop charger": "laptop-chromebook", // Alternative: "battery-charging-high"
  "phone charger": "cellphone-charging",
  "mobile charger": "cellphone-charging",
  "usb charger": "usb-port",
  "wireless charger": "wireless",
  "power bank": "battery-plus",
  "charging station": "ev-station",
  "dock": "dock-top",
  "power strip": "power-plug-outline",

  // ===== Network & Connectivity =====
  "wifi": "wifi",
  "router": "router-wireless",
  "modem": "router-network",
  "extender": "wifi-arrow-up-down",
  "mesh": "wifi-mesh",
  "access point": "access-point",
  "ethernet": "ethernet-cable",
  "nas": "nas",
  "hotspot": "wifi-hotspot",
  "bluetooth": "bluetooth",

  // ===== Lighting Effects =====
  "rgb": "led-strip-variant",
  "rgb lights": "led-strip-variant",
  "neon": "lightbulb-fluorescent-tube",
  "strobe": "lightbulb-spot",
  "disco": "lightbulb-group",
  "mood lighting": "lightbulb-multiple",
  "ambient lighting": "lightbulb-multiple-outline",

  // ===== Kitchen Tools =====
 "grinder": "blender", // Fallback for generic grinders
  "mixer grinder": "mixer", 
  "blender grinder": "blender",
  "food grinder": "food-processor",
  "coffee grinder": "coffee",
  "meat grinder": "hamburger", // Alternative: "food-drumstick"
  "juicer grinder": "cup-water",
  "spice grinder": "shaker-outline", // Alternative: "spoon-sugar"
  "wet grinder": "water-circle", // For Indian wet grinders
  "angle grinder": "toolbox-outline", // For power tools
  "bench grinder": "toolbox",


  // ===== New Additions =====
  "smart scale": "scale-bathroom",
  "air fryer": "french-fries",
  "instant pot": "pot-steam",
  "bread maker": "bread-slice",
  "sous vide": "thermometer-water",
  "soda maker": "cup-water",
  "ice maker": "snowflake",
  "wine cooler": "bottle-wine",
  "garage door": "garage",
  "pet feeder": "bowl-mix",
  "robot mower": "robot-mower",
  "fitness equipment": "dumbbell",
  "massage chair": "chair-rolling",
  "electric blanket": "blanket",
  "towel warmer": "hanger",
  "bidet": "shower-head",

  // ===== Default Fallbacks =====
  "switch": "toggle-switch",
  "outlet": "outlet",
  "device": "devices",
  "default": "power-plug"
};
  
export const getApplianceIcon = (applianceId?: string | null): string => {
  if (!applianceId || typeof applianceId !== 'string') {
    return applianceIconMap.default;
  }

  const lowerId = applianceId.toLowerCase().trim();
  
  // Special cases first
  if (/wireless\s*charger/i.test(lowerId)) return applianceIconMap["wireless charger"];
  if (/rgb\s*(light)?s?/i.test(lowerId)) return applianceIconMap["rgb lights"];
  if (/(wifi|wireless)\s*(router)?/i.test(lowerId)) return applianceIconMap["wifi"];
  if (/(grinder|mixer)/i.test(lowerId)) return applianceIconMap["grinder"];

  // Rest of the existing matching logic
  if (applianceIconMap[lowerId]) return applianceIconMap[lowerId];
  
  const words = lowerId.split(/[\s-]+/);
  for (const word of words) {
    if (applianceIconMap[word]) {
      return applianceIconMap[word];
    }
  }

  for (const [keyword, icon] of Object.entries(applianceIconMap)) {
    if (lowerId.includes(keyword)) {
      return icon;
    }
  }

  return applianceIconMap.default;
};